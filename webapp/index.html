<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
  <style>
    /* üî• –£–ë–ò–†–ê–ï–ú –í–°–ï –û–¢–°–¢–£–ü–´ –ò –ú–ê–†–ì–ò–ù–´ */
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0;
      padding: 0;
      background: #000;
      width: 100%;
      height: 100%;
      overflow: hidden;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }

    /* üî• –ö–û–ù–¢–ï–ô–ù–ï–† –ò–ì–†–´ ‚Äî –¶–ï–ù–¢–†–ò–†–û–í–ê–ù –ß–ï–†–ï–ó FLEX */
    #game-container {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* üî• –ò–ì–†–ê ‚Äî –¶–ï–ù–¢–†–ò–†–û–í–ê–ù–ê, –ú–ê–°–®–¢–ê–ë–ò–†–£–ï–¢–°–Ø */
    #game {
      width: 420px;
      height: 720px;
      background: #333;
      border: 2px solid #555;
      position: relative;
      transform-origin: center center;
      /* –ë—É–¥–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ JS */
    }

    /* üî• –¢–ï–°–¢–û–í–´–ï –≠–õ–ï–ú–ï–ù–¢–´ ‚Äî –ü–û–ö–ê–ñ–£–ú –°–¢–†–£–ö–¢–£–†–£ */
    .test-red {
      position: absolute;
      top: 0;
      left: 0;
      width: 400px;
      height: 400px;
      background: red;
      opacity: 0.3;
    }

    .test-green {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 400px;
      height: 300px;
      background: green;
      opacity: 0.3;
    }
  </style>
</head>
<body>

  <!-- üî• –û–ë–ï–†–¢–ö–ê –î–õ–Ø –¶–ï–ù–¢–†–ò–†–û–í–ê–ù–ò–Ø -->
  <div id="game-container">
    <div id="game">
      <div class="test-red"></div>
      <div class="test-green"></div>
    </div>
  </div>

  <script>
    function resizeGame() {
      const game = document.getElementById('game');
      const baseWidth = 420;
      const baseHeight = 720;

      // üî• –ò—Å–ø–æ–ª—å–∑—É–µ–º visualViewport –¥–ª—è iOS
      const vw = window.visualViewport ? window.visualViewport.width : window.innerWidth;
      const vh = window.visualViewport ? window.visualViewport.height : window.innerHeight;

      // üî• –ú–∞—Å—à—Ç–∞–± –ø–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É
      const scale = Math.min(vw / baseWidth, vh / baseHeight);

      // üî• –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞—Å—à—Ç–∞–±
      game.style.transform = `scale(${scale})`;

      // üî• –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
      game.style.position = 'absolute';
      game.style.left = '50%';
      game.style.top = '50%';
      game.style.transform = `translate(-50%, -50%) scale(${scale})`;
    }

    // –ó–∞–ø—É—Å–∫–∞–µ–º
    window.addEventListener('load', resizeGame);
    window.addEventListener('resize', resizeGame);
    if (window.visualViewport) {
      window.visualViewport.addEventListener('resize', resizeGame);
    }

    // üî• –°–±—Ä–æ—Å —Å–∫—Ä–æ–ª–ª–∞
    setTimeout(() => {
      window.scrollTo(0, 0);
    }, 100);
  </script>

</body>
</html>
