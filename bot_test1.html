<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Минимальная игра</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }
    input[type="number"] {
      font-size: 24px;
      width: 150px;
      padding: 8px;
      text-align: center;
    }
    button {
      font-size: 18px;
      padding: 10px 20px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <input id="numberField" type="number" value="0" />

  <div>
    <button id="randomBtn">Рандом</button>
    <button id="saveBtn">Сохранить</button>
  </div>

  <script>
    // Получаем параметры URL (необязательно, чтобы использовать chat_id и t)
    function getQueryParams() {
      const params = {};
      const queryString = window.location.search.substring(1);
      const pairs = queryString.split('&');
      for (const pair of pairs) {
        const [key, value] = pair.split('=');
        if (key) {
          params[decodeURIComponent(key)] = decodeURIComponent(value || '');
        }
      }
      return params;
    }

    const params = getQueryParams();
    const chatId = params['chat_id'] || 'не указан';
    const timestamp = params['t'] || 'не указан';

    const numberField = document.getElementById('numberField');
    const randomBtn = document.getElementById('randomBtn');
    const saveBtn = document.getElementById('saveBtn');

    // Функция генерации случайного числа (например, от 1 до 100)
    function generateRandomNumber() {
      return Math.floor(Math.random() * 100) + 1;
    }

    // Событие: по нажатию на "Рандом" записываем новое число в поле
    randomBtn.addEventListener('click', () => {
      const randomNum = generateRandomNumber();
      numberField.value = randomNum;
    });

    // Событие: по нажатию на "Сохранить"
    saveBtn.addEventListener('click', () => {
      const currentValue = numberField.value;
      // Здесь можно отправить на сервер, локально сохранить или что-то еще
      // Пока просто выводим в консоль с chat_id для примера
      console.log(`Сохранено число: ${currentValue} для chat_id: ${chatId}`);

      // Можно отобразить уведомление пользователю
      alert(`Число ${currentValue} сохранено!`);
    });

    // При загрузке страницы можно установить начальное значение случайное
    numberField.value = generateRandomNumber();
  </script>

</body>
</html>
